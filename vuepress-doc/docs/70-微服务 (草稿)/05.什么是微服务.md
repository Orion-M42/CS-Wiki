> 参考：
>
> - [http://c.biancheng.net/springcloud/micro-service.html](http://c.biancheng.net/springcloud/micro-service.html)
> - [https://aws.amazon.com/cn/microservices/](https://aws.amazon.com/cn/microservices/)

## 什么是微服务

什么是“微服务架构”呢？简单的说，**微服务架构就是将一个完整的应用从数据存储开始垂直拆分成多个不同的服务，每个服务都能独立部署、独立维护、独立扩展，服务与服务间通过诸如 RESTful API 的方式互相调用**。

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20221010125009993.png)

传统的单体架构将应用程序中所有业务逻辑都编写在同一个工程中，最终经过编译、打包，部署在一台服务器上运行，所有进程紧密耦合，并可作为单项服务运行。这意味着，如果应用程序的一个进程遇到需求峰值，则必须扩展整个架构。随着代码库的增长，添加或改进整体式应用程序的功能变得更加复杂。这种复杂性限制了试验的可行性，并使实施新概念变得困难。整体式架构增加了应用程序可用性的风险，因为许多依赖且紧密耦合的进程会扩大单个进程故障的影响。

使用微服务架构，将应用程序构建为独立的组件，并将每个应用程序进程作为一项服务运行。这些服务使用轻量级 API 通过明确定义的接口进行通信。这些服务是围绕业务功能构建的，每项服务执行一项功能。由于它们是独立运行的，因此可以针对各项服务进行更新、部署和扩展，以满足对应用程序特定功能的需求。

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20221010125124275.png)

总结下微服务的特点：

- 服务按照业务来划分，每个服务通常只专注于某一个特定的业务、所需代码量小，复杂度低、易于维护。
- 每个微服都可以独立开发、部署和运行，且代码量较少，因此启动和运行速度较快。
- 每个服务从设计、开发、测试到维护所需的团队规模小，一般 8 到 10 人，团队管理成本小。
- 采用单体架构的应用程序只要有任何修改，就需要重新部署整个应用才能生效，而微服务则完美地解决了这一问题。在微服架构中，某个微服务修改后，只需要重新部署这个服务即可，而不需要重新部署整个应用程序。
- 在微服务架构中，开发人员可以结合项目业务及团队的特点，合理地选择语言和工具进行开发和部署，不同的微服务可以使用不同的语言和工具。
- 微服务具备良好的可扩展性。随着业务的不断增加，微服务的体积和代码量都会急剧膨胀，此时我们可以根据业务将微服务再次进行拆分；除此之外，当用户量和并发量的增加时，我们还可以将微服务集群化部署，从而增加系统的负载能力。
- 微服务能够与容器（Docker）配合使用，实现快速迭代、快速构建、快速部署。
- 微服务具有良好的故障隔离能力，当应用程序中的某个微服发生故障时，该故障会被隔离在当前服务中，而不会波及到其他微服务造成整个系统的瘫痪。
- 微服务系统具有链路追踪的能力。

> 更多关于 “微服务架构” 可以阅读始祖 Martin Fowler的《[Microservices](https://martinfowler.com/articles/microservices.html)》（中文版翻译[点击查看](http://mp.weixin.qq.com/s/fzk-kENu0I22P3F2Vu7KBA)）

## 微服务框架

微服务架构是一种系统架构风格和思想，想要真正地搭建一套微服务系统，则需要微服务框架的支持。随着微服务的流行，很多编程语言都相继推出了它们的微服务框架，下面我们就来简单列举下 Java 微服务框架：

- Spring Cloud：它能够基于 REST 服务来构建服务，帮助架构师构建出一套完整的微服务技术生态链。
- Dropwizard：用于开发高性能和 Restful 的 Web 服务，对配置、应用程序指标、日志记录和操作工具都提供了开箱即用的支持。
- Restlet： 该框架遵循 RST 架构风格，可以帮助 Java 开发人员构建微服务。
- Spark：最好的 Java 微服务框架之一，该框架支持通过 Java 8 和 Kotlin 创建微服务架构的应用程序。
- Dubbo：由阿里巴巴开源的分布式服务治理框架。

## 微服务和分布式的区别

> 参考 [https://www.51cto.com/article/649251.html](https://www.51cto.com/article/649251.html)

微服务设计是为了不因为某个模块的升级和BUG影响现有的系统业务。**微服务与分布式的细微差别是，微服务的应用不一定是分散在多个服务器上也可以是同一个服务器**。分布式属于微服务，将模块拆分成一个独立的服务单元通过接口来实现数据的交互。分布式和微服的架构很相似，只是部署的方式不一样而已。

- 分布式：分散**压力**
- 微服务：分散**能力**